import{r,j as e}from"./index-CvtE0vql.js";import{R as b,a as v}from"./RoomCardsSection-DjMa1bni.js";import{a as l}from"./index-t--hEgTQ.js";import"./react-DJG_os-6.js";import"./swiper-B7pBPPGb.js";function F(){const[n,c]=r.useState(null),d=r.useRef(0),u=r.useRef(null),[m,o]=r.useState(!1),[f,i]=r.useState(!1),x="https://letsgo-be.onrender.com";async function p(s){try{const t=await l.get(`${x}/api/v1/room/searchFromAll?query=${s}`);console.log(t.data),console.log(t.data.data),c(t.data.data),i(!1),o(!1)}catch(t){i(!0),o(!1),l.isAxiosError(t)&&t.response&&t.response.status===404&&console.log("error")}}function h(s){clearTimeout(d.current),d.current=setTimeout(()=>{console.log(s.target.value);const t=s.target.value;if(t===""){c(null);return}o(!0),p(t)},1e3)}async function g(){var t;o(!0);const s=(t=u.current)==null?void 0:t.value;try{const a=await l.get(`${x}/api/v1/room/searchFromApartment?query=${s}`);console.log(a.data),console.log(a.data.data),c(a.data.data),o(!1)}catch(a){i(!0),o(!1),l.isAxiosError(a)&&a.response&&a.response.status===404&&console.log("error")}}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"w-full h-auto min-h-screen pb-6 px-4 md:px-6 lg:px-8 bg-[#fab1a0]",children:[e.jsxs("div",{className:"flex items-center  justify-center pt-25  md:gap-2 gap-4 flex-col md:flex-row ",children:[e.jsx("input",{type:"text",ref:u,onChange:h,placeholder:"search by country or state or area name",className:"bg-white hover:border-2 hover:border-black  w-[90vw] md:w-[70vw] lg:w-[55vw] rounded-2xl text-sm md:text-lg lg:text-xl outline-none focus:border-2 focus:border-black text-black py-3 px-4"}),e.jsx("button",{onClick:g,className:"text-black bg-[#FEA47F] text-xl border-2 border-black hover:border-[#FEA47F]  px-4 py-3 rounded-2xl cursor-pointer hover:bg-slate-950 hover:text-white font-semibold transition-colors",children:"Search"})]}),e.jsx("div",{className:" w-full h-auto text-black py-4 mt-20  ",children:f?e.jsx("div",{className:"text-black text-xl font-semibold text-center",children:"Something went wrong, please check your internet connection and try again..."}):e.jsx(e.Fragment,{children:m?e.jsx("div",{className:"text-black text-xl font-semibold text-center",children:"Loading Rooms data...."}):e.jsx("div",{children:n===null?e.jsx(b,{path:"/"}):e.jsx("div",{className:" flex md:flex-row flex-col flex-wrap  items-center justify-evenly gap-6",children:n.length===0?e.jsx("div",{className:"text-black text-xl font-semibold",children:"No such Rooms available"}):n.map(s=>e.jsx(v,{data:s},s._id))})})})})]})})}export{F as default};
