import{d as E,u as F,r as o,j as e,X as S,b as h}from"./index-CvtE0vql.js";import{a as b}from"./index-t--hEgTQ.js";import"./react-DJG_os-6.js";import"./swiper-B7pBPPGb.js";function $(){const g="https://letsgo-be.onrender.com",{id:w}=E(),c=F(),a=o.useRef(null),t=o.useRef(null),l=o.useRef(null),[j,n]=o.useState(!1);function i(){const s=localStorage.getItem("activeLink");c(!s||s==="/"?"/":`/${s}`)}async function y(){var s,u,d,x,m,f,p,v;if(((s=a.current)==null?void 0:s.value)===void 0||a.current.value==="")(u=a.current)==null||u.focus();else if(((d=t.current)==null?void 0:d.value)===void 0||t.current.value==="")(x=t.current)==null||x.focus();else if(parseFloat((m=t.current)==null?void 0:m.value)>5)h.fire({icon:"warning",title:"Oops",text:"Rating must be in between 1 to 5",confirmButtonText:"OK"}),(f=t.current)==null||f.focus();else if(((p=l.current)==null?void 0:p.value)===void 0||l.current.value==="")(v=l.current)==null||v.focus();else{n(!0);const N=a.current.value,k=t.current.value,R=l.current.value;try{const r=await b.post(`${g}/api/v1/review/newreview/${w}`,{name:N,ratings:k,review:R},{headers:{token:localStorage.getItem("token")}});n(!1),h.fire({title:"Sucess",icon:"success",text:"Review created sucessfully...",confirmButtonText:"OK"}),i(),console.log(r.data.data)}catch(r){n(!1),b.isAxiosError(r)&&r.response&&r.response.status===400&&console.log("error is : ",r)}}}return e.jsx(e.Fragment,{children:e.jsx("div",{className:"bg-[#fab1a0] h-auto w-full flex items-center justify-center text-black py-20",children:e.jsxs("div",{className:"bg-[#FEA47F] rounded-xl h-auto w-auto px-4 md:px-6 lg:px-8 py-8 flex items-center justify-center flex-col relative ",children:[e.jsx(S,{size:"30px",onClick:i,className:"absolute cursor-pointer right-3 top-2 hover:border-2 hover:border-black text-black rounded-md"}),e.jsx("h2",{className:"text-black text-xl md:text-2xl lg:text-3xl font-bold ",children:"Add Review"}),e.jsx("div",{children:e.jsxs("div",{className:"mt-[12vh] ",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("p",{className:"text-lg font-semibold text-black",children:["Your Name : ",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsx("input",{type:"text",ref:a,placeholder:"Enter your name",className:"rounded-xl shadow-sm shadow-gray-500 text-white border-none bg-slate-900 focus:outline-blue-500 w-[70vw] md:w-[50vw] lg:w-[40vw] my-5 h-[40px] px-4"})]}),e.jsxs("p",{className:"text-lg font-semibold text-black",children:["Enter your ratings : ",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsx("input",{type:"text",ref:t,placeholder:"Enter your ratings (0 to 5)",className:"rounded-xl shadow-sm shadow-gray-500 text-white border-none bg-slate-900 focus:outline-blue-500 w-full my-5 h-[40px] px-4"}),e.jsxs("p",{className:"text-lg font-semibold text-black",children:["Review : ",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsx("textarea",{name:"Rveview",ref:l,placeholder:"Enter your review here...",className:"rounded-xl shadow-sm shadow-gray-500 text-white border-none bg-slate-900 focus:outline-blue-500 w-full my-5 px-4 pt-1.5"})]})}),e.jsx("button",{onClick:y,className:"text-xl font-semibold text-white bg-black hover:bg-slate-900 cursor-pointer px-8 md:px-12 lg:px-20 py-1 rounded-xl mt-8",children:j?"submitting....":"submit"})]})})})}export{$ as default};
