import{r as a,u as k,j as e,X as E,L as C,b as F}from"./index-CvtE0vql.js";import{a as b}from"./index-t--hEgTQ.js";import"./react-DJG_os-6.js";import"./swiper-B7pBPPGb.js";function I(){const y="https://letsgo-be.onrender.com",[j,n]=a.useState(!1),[c,x]=a.useState(!1),f=k(),r=a.useRef(null),o=a.useRef(null),l=a.useRef(null);async function N(){var t,m,p,h,g,w;if(((t=l.current)==null?void 0:t.value)===void 0||l.current.value==="")(m=l.current)==null||m.focus();else if(((p=r.current)==null?void 0:p.value)===void 0||r.current.value==="")(h=r.current)==null||h.focus();else if(((g=o.current)==null?void 0:g.value)===void 0||o.current.value==="")(w=o.current)==null||w.focus();else if(o.current.value!==r.current.value)x(i=>!i);else{const i=r.current.value,v=l.current.value;console.log(i),console.log(v);try{n(s=>!s);let u;try{u=await b.put(`${y}/api/v1/user/forgetPassword`,{newPass:i,email:v})}catch(s){if(n(d=>!d),b.isAxiosError(s)&&s.response){const d=s.response.status;console.log(d===404?"Can't find your details. Please try after sometime.":d===500?"Internal error. Please try after sometime.":"Failed to change your password. Please try again later."),console.error("Error response: ",s.response.data)}else console.error("Unexpected error: ",s);return}console.log(u),x(!1),n(s=>!s),F.fire({title:"sucess",text:"Password changed Sucessfully...",icon:"success",confirmButtonText:"OK"})}catch(u){n(s=>!s),console.log("error is : "+u)}}}function P(){const t=localStorage.getItem("activeLink");f(!t||t==="/"?"/":`/${t}`)}return e.jsx("div",{className:"bg-[#fab1a0] text-black font-semibold flex items-center justify-center w-full h-screen",children:e.jsxs("div",{className:"relative bg-[#FEA47F] h-auto w-[280px] md:w-[400px] lg:w-[600px] flex px-4 md:px-6 lg:px-8 py-8 rounded-xl  flex-col",children:[e.jsx(E,{onClick:P,className:" cursor-pointer absolute right-5 hover:border-2 hover:border-black rounded-md text-black "}),e.jsx("h2",{className:"text-3xl text-black  font-bold mt-[5vh] text-center  ",children:"Forget Password"}),e.jsxs("div",{className:"mt-[4vh] ",children:[e.jsxs("div",{className:"relative",children:[e.jsx("p",{children:"Email : "}),e.jsx("input",{type:"email",ref:l,placeholder:"Enter your email",className:`rounded-xl shadow-sm shadow-gray-500 text-white border-none bg-slate-900 focus:outline-blue-500 w-full my-5 h-[40px] px-4 ${c?"focus:outline-red-500":""} `})]}),e.jsxs("div",{className:"relative",children:[e.jsx("p",{children:"New password : "}),e.jsx("input",{type:"password",ref:r,placeholder:"Enter your new password",className:`rounded-xl shadow-sm shadow-gray-500 text-white border-none bg-slate-900 focus:outline-blue-500 w-full my-5 h-[40px] px-4 ${c?"focus:outline-red-500":""} `})]}),e.jsxs("div",{className:"relative",children:[e.jsx("p",{children:"Confirm pasword : "}),e.jsx("input",{type:"password",ref:o,placeholder:"Enter your new password",className:`rounded-xl text-white border-none bg-slate-900 focus:outline-blue-500 w-full my-5 h-[40px] px-4  ${c?"focus:outline-red-500":""} `}),c&&e.jsx("div",{className:"absolute text-red-500 text-[18px]  right-1 -bottom-2",children:"* Password doesn't matched"})]})]}),e.jsx(C,{to:"/signin",className:"text-right text-blue-800 cursor-pointer block mt-3",children:"sign in ?"}),e.jsx("button",{className:"bg-black hover:bg-slate-950 hover:scale-105 text-white rounded-xl font-semibold text-xl px-8 py-1 mt-[5vh] cursor-pointer  ",onClick:N,children:j?"Changing...":"Change"})]})})}export{I as default};
