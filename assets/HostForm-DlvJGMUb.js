import{u as q,r as l,j as e,X as P,b as t}from"./index-CvtE0vql.js";import{a as N}from"./index-t--hEgTQ.js";import"./react-DJG_os-6.js";import"./swiper-B7pBPPGb.js";function A(){const f=q(),O="https://letsgo-be.onrender.com",n=l.useRef(null),a=l.useRef(null),i=l.useRef(null),c=l.useRef(null),u=l.useRef(null);function m(){const r=localStorage.getItem("activeLink");f(!r||r==="/"?"/":`/${r}`)}async function S(){var r,p,h,g,y,b,v,w,j,R;if(((r=n.current)==null?void 0:r.value)===void 0||n.current.value==="")(p=n.current)==null||p.focus(),console.log("emailRef is Required...");else if(((h=a.current)==null?void 0:h.value)===void 0||a.current.value==="")(g=a.current)==null||g.focus(),console.log("passwordRef is Required....");else if(((y=i.current)==null?void 0:y.value)===void 0||i.current.value==="")(b=i.current)==null||b.focus(),console.log("stateRef is Required....");else if(((v=c.current)==null?void 0:v.value)===void 0||c.current.value==="")(w=c.current)==null||w.focus(),console.log("cityRef is Required....");else if(((j=u.current)==null?void 0:j.value)===void 0||u.current.value==="")(R=u.current)==null||R.focus(),console.log("pincodeRef is Required....");else{const k=n.current.value,B=a.current.value,T=c.current.value,F=i.current.value,I=u.current.value;if(console.log(k),x(!0),localStorage.getItem("token"))try{let o;try{o=await N.post(`${O}/api/v1/seller/newseller`,{name:k,YOE:B,city:T,state:F,pincode:I},{headers:{token:localStorage.getItem("token")}}),console.log(o)}catch(d){if(x(s=>!s),N.isAxiosError(d)&&d.response){const s=d.response.status;s===401?t.fire({icon:"error",title:"Oops...",text:"Unauthorized access. Please Sign in.....",confirmButtonText:"Ok"}):s===420?t.fire({icon:"error",title:"Oops...",text:"Seller already exist.....",confirmButtonText:"Ok"}):s===403?t.fire({icon:"error",title:"Oops...",text:"User not found.....",confirmButtonText:"Ok"}):s===501?t.fire({icon:"error",title:"Oops...",text:"Sellers model is not initialized.....",confirmButtonText:"Ok"}):t.fire({icon:"error",title:"Oops...",text:"Failed to process your data. Please try again later....",confirmButtonText:"Ok"})}else t.fire({icon:"error",title:"Oops...",text:"Internal error. Please try again later....",confirmButtonText:"Ok"}),console.error("Unexpected error: ",d);return}console.log(o.data.data),localStorage.setItem("sellerToken",o.data.data),x(!1),t.fire({text:"Sign in Sucessfully...",icon:"success",timer:3e3,title:"sucess",confirmButtonText:"OK"}),m()}catch(o){console.log("error is :",o),t.fire({icon:"error",title:"Oops",text:"Something went wrong , try after sometime...",confirmButtonText:"OK"})}else t.fire({icon:"warning",text:"Please sign in first....",title:"Oops",confirmButtonText:"Ok"}),x(!1)}}const[E,x]=l.useState(!1);return e.jsx(e.Fragment,{children:e.jsx("div",{className:"h-auto py-20 bg-[#fab1a0] w-full flex items-center justify-center text-black",children:e.jsxs("div",{className:" relative w-[300px] md:w-[450px] lg:w-[520px] rounded-xl shadow-lg shadow-gray-400  px-8 py-10 flex gap-4 justify-start flex-col bg-[#FEA47F] ",children:[e.jsx(P,{onClick:m,className:" cursor-pointer absolute right-5 hover:border-2 hover:border-black rounded-md text-balck "}),e.jsx("h2",{className:"text-center text-2xl font-bold my-9",children:"Become a Host"}),e.jsxs("div",{className:"",children:[e.jsx("p",{className:"text-xl mt-3",children:"Name : "}),e.jsx("input",{type:"text",ref:n,placeholder:"Enter your full name",className:"rounded-xl shadow-sm shadow-gray-500  text-white border-none bg-slate-900 focus:outline-blue-500 w-full my-2 h-[40px] px-4  "})]}),e.jsxs("div",{className:"",children:[e.jsx("p",{className:"text-xl mt-3",children:"Years of Experience : "}),e.jsx("input",{type:"text",ref:a,placeholder:"Enter your years of experience",className:"rounded-xl shadow-sm shadow-gray-500  text-white border-none bg-slate-900 focus:outline-blue-500 w-full my-2 h-[40px] px-4  "})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xl mt-3",children:"state :"}),e.jsx("input",{type:"text",ref:i,placeholder:"Enter your state",className:"rounded-xl shadow-sm shadow-gray-500  text-white border-none bg-slate-900 focus:outline-blue-500 w-full my-2 h-[40px] px-4  "})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xl mt-3",children:"city :"}),e.jsx("input",{type:"text",ref:c,placeholder:"Enter your city",className:"rounded-xl shadow-sm shadow-gray-500  text-white border-none bg-slate-900 focus:outline-blue-500 w-full my-2 h-[40px] px-4  "})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xl mt-3",children:"pincode :"}),e.jsx("input",{type:"text",ref:u,placeholder:"Enter your pincode",className:"rounded-xl shadow-sm shadow-gray-500  text-white border-none bg-slate-900 focus:outline-blue-500 w-full my-2 h-[40px] px-4  "})]}),e.jsx("button",{onClick:S,className:"bg-black hover:bg-slate-800 text-white rounded-2xl font-bold text-xl px-8 py-1 mt-[6vh] cursor-pointer",children:E?"Submitting...":"Submit"})]})})})}export{A as default};
